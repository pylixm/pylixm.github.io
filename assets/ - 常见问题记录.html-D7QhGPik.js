import{_ as s,c as a,a as e,o as t}from"./app-Cpl7-wzY.js";const l={};function n(h,i){return t(),a("div",null,[...i[0]||(i[0]=[e(`<h2 id="磁盘分区" tabindex="-1"><a class="header-anchor" href="#磁盘分区"><span>磁盘分区</span></a></h2><p>磁盘分区和挂着，一般使用 <code>fdisk</code> 工具足矣，下面是操作命令记录备查：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">fdisk</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /dev/sdb</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 需要操作的硬盘 可以使用 fdisk -l 查看</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>进入分区交互命令行，可使用如下几个常用命令操作</p><ul><li>p 打印分区表。</li><li>n 新建一个新分区。</li><li>d 删除一个分区。</li><li>q 退出不保存。</li><li>w 把分区写进分区表，保存并退出。</li></ul><p>fdisk 最大支持2t的分区，当磁盘容量大于 2T 时，会有如下提示：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">The</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> size</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> of</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> this</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> disk</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> is</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10.9</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> TiB</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (12000675495936 </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">bytes</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">). DOS partition table format cannot be used on drives </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">for</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> volumes larger than </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2199023255040</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> bytes for 512-byte sectors. Use GUID partition table format </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">GPT</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>可使用 <code>parted</code> 命令来分区，操作如下：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">parted</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /dev/sdb</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>进入交互命令，常用操作命令如下：</p><ul><li><code>rm 1</code> 删除sdb1 分区</li><li><code>mklabel gpt</code> 设置为GPT类型的磁盘</li><li><code>mkpart primary ext4 0% 50%</code> 按照百分比来进行分区，0% 起始位置，50%结束位置</li><li><code>mkpart</code> 手动逐步分区，其中需要填写起始位置，安大小填写，按提示操作即可，其中 Partition table 填 gpt</li><li><code>help</code> 查看信息</li><li><code>quit</code> 保存退出</li></ul><h2 id="格式化" tabindex="-1"><a class="header-anchor" href="#格式化"><span>格式化</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mkfs.xfs</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /dev/sdb1</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 存储多用 xfs 或   mkfs -t xfs /dev/sdb5</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mkfs.ext4</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /dev/sdb1</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 一般用ext4 或   mkfs -t ext4 /dev/sdb5</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="挂载" tabindex="-1"><a class="header-anchor" href="#挂载"><span>挂载</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mount</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /dev/sdb1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /data</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>开机挂着，需要配置 <code>/etc/fstab</code>，如下有三种配置方式：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 目录挂载</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">/dev/sdb1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /project/finshed</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ext4</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> defaults</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 标签挂载，标签需要手动添加  e2label 分区设备名 标签名</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">LABEL</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">part1</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> /project/finshed</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ext4</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> defaults</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># uuid 挂载，可使用 blkid 命令查看设备uuid</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">UUID</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">05a1eb34-fc9d-4f90-adaf-7d15a4624563</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> /project/finshed</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ext4</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> defaults</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>推荐使用 UUID 配置，因为目录随着磁盘的损坏可能变更，标签不具有唯一性，都可能造成重启挂载失败，UUID 设备唯一，更加安全稳定。</p><p>各自动解释如下：</p><ul><li>第一字段：指定了要挂载的设备，可以是一个 /dev 目录下的设备文件，例如 /dev/sdd1，也可以通过设备标签或者所谓的 UUID 来指定要挂载的设备，如 LABEL=某个设备标签 或 UUID=某个设备UUID。用设备标签或 UUID 更加安全和稳定。</li><li>第二字段：挂载点。指定了挂载设备的目录。对于 swap 是没有挂载点，该处就显示 swap。</li><li>第三字段：挂载分区文件系统类型。定义了该设备上的文件系统。一般常用的文件系统类型为 ext4，swap 或者 iso9600。</li><li>第四字段：挂载参数。指定文件系统挂载后的一些行为属性。多个参数用逗号分隔。defauts 表示默认挂载参数。</li><li>第五字段：dump 参数。被 dump 命令使用，来检查一个文件系统是否应该进行 dump 备份。不需要就设置为 0，如果需要每天备份，设置为 1，不定期备份，设置为 2。</li><li>第六字段：开机检查分区的次序。该字段被 fsck 命令来确定系统开机时进行文件系统检查的顺序。对于根分区，这个值为 1，表示优先。其它文件系统可以设置为 2，表示次优，如果为 0 或没有设置，开机跳过此文件系统的检查。</li></ul>`,20)])])}const p=s(l,[["render",n]]),k=JSON.parse('{"path":"/pages/6a341d/%20-%20%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95","title":"磁盘分区挂着，格式化相关","lang":"zh-CN","frontmatter":{"title":"磁盘分区挂着，格式化相关","permalink":"/pages/6a341d/ - 常见问题记录","tags":["Linux","磁盘分区","磁盘格式化"],"createTime":"2023/09/08 17:36:02","description":"磁盘分区 磁盘分区和挂着，一般使用 fdisk 工具足矣，下面是操作命令记录备查： 进入分区交互命令行，可使用如下几个常用命令操作 p 打印分区表。 n 新建一个新分区。 d 删除一个分区。 q 退出不保存。 w 把分区写进分区表，保存并退出。 fdisk 最大支持2t的分区，当磁盘容量大于 2T 时，会有如下提示： 可使用 parted 命令来分区，...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"磁盘分区挂着，格式化相关\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-09-30T08:57:49.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://pylixm.top/pages/6a341d/%20-%20%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95"}],["meta",{"property":"og:site_name","content":"底层逻辑"}],["meta",{"property":"og:title","content":"磁盘分区挂着，格式化相关"}],["meta",{"property":"og:description","content":"磁盘分区 磁盘分区和挂着，一般使用 fdisk 工具足矣，下面是操作命令记录备查： 进入分区交互命令行，可使用如下几个常用命令操作 p 打印分区表。 n 新建一个新分区。 d 删除一个分区。 q 退出不保存。 w 把分区写进分区表，保存并退出。 fdisk 最大支持2t的分区，当磁盘容量大于 2T 时，会有如下提示： 可使用 parted 命令来分区，..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-09-30T08:57:49.000Z"}],["meta",{"property":"article:tag","content":"磁盘格式化"}],["meta",{"property":"article:tag","content":"磁盘分区"}],["meta",{"property":"article:tag","content":"Linux"}],["meta",{"property":"article:modified_time","content":"2025-09-30T08:57:49.000Z"}]]},"readingTime":{"minutes":2.85,"words":854},"git":{"createdTime":1759222669000,"updatedTime":1759222669000,"contributors":[{"name":"pylixm","username":"pylixm","email":"pyli.xm@gmail.com","commits":1,"avatar":"https://avatars.githubusercontent.com/pylixm?v=4","url":"https://github.com/pylixm"}]},"autoDesc":true,"filePathRelative":"05.运维/00.常见问题记录/01.磁盘格式化.md","headers":[],"categoryList":[{"id":"8091bd","sort":5,"name":"运维"},{"id":"fab4b7","sort":0,"name":"常见问题记录"}]}');export{p as comp,k as data};
