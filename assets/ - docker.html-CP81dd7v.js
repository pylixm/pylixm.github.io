import{_ as i,c as e,a,o as t}from"./app-DdES4ywf.js";const n={};function r(o,s){return t(),e("div",null,[...s[0]||(s[0]=[a(`<h2 id="如何修改-docker-主目录" tabindex="-1"><a class="header-anchor" href="#如何修改-docker-主目录"><span>如何修改 Docker 主目录</span></a></h2><p>Docker会把镜像、容器等文件数据保存在自己的主目录中，当数据表较多时会占用大量的磁盘空间。我们可以通过修改 docker 的 /etc/docker/daemin.json 文件，来实现指定Docker主目录的目的。</p><p>新安装的docker默认是没有该文件，需要自己创建。配置如下：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    &quot;graph&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/opt/data/docker_data</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">   # 指定主目录，19.xx 版本以后使用data-root来代替graph</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # &quot;data-root&quot;: &quot;/opt/data/docker_data&quot;,  # &gt; 19.xx</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    &quot;storage-driver&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">overlay2</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    &quot;registry-mirrors&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        &quot;https://docker.mirrors.ustc.edu.cn&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">,</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        &quot;https://ebj7r32i.mirror.swr.myhuaweicloud.com&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">,</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        &quot;https://t6svdau1.mirror.aliyuncs.com&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">,</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        &quot;http://f1361db2.m.daocloud.io&quot;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    ]</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>该文件除了修改 Docker 主目录外，还可以修改许多Docker 的默认配置，比如如上配置文件中的存储驱动(<code>storage-driver</code>)、镜像拉取的源地址(<code>registry-mirrors</code>)等。</p><p>更多配置项，可见官方文档：https://docs.docker.com/engine/reference/commandline/dockerd/#daemon-configuration-file</p>`,6)])])}const p=i(n,[["render",r]]),d=JSON.parse('{"path":"/pages/bd482a/%20-%20docker","title":"Docker常见问题记录","lang":"zh-CN","frontmatter":{"title":"Docker常见问题记录","permalink":"/pages/bd482a/ - docker","tags":[null],"createTime":"2023/09/08 17:36:02","description":"如何修改 Docker 主目录 Docker会把镜像、容器等文件数据保存在自己的主目录中，当数据表较多时会占用大量的磁盘空间。我们可以通过修改 docker 的 /etc/docker/daemin.json 文件，来实现指定Docker主目录的目的。 新安装的docker默认是没有该文件，需要自己创建。配置如下： 该文件除了修改 Docker 主目录...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Docker常见问题记录\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-09-30T08:57:49.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://pylixm.top/pages/bd482a/%20-%20docker"}],["meta",{"property":"og:site_name","content":"底层逻辑"}],["meta",{"property":"og:title","content":"Docker常见问题记录"}],["meta",{"property":"og:description","content":"如何修改 Docker 主目录 Docker会把镜像、容器等文件数据保存在自己的主目录中，当数据表较多时会占用大量的磁盘空间。我们可以通过修改 docker 的 /etc/docker/daemin.json 文件，来实现指定Docker主目录的目的。 新安装的docker默认是没有该文件，需要自己创建。配置如下： 该文件除了修改 Docker 主目录..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-09-30T08:57:49.000Z"}],["meta",{"property":"article:modified_time","content":"2025-09-30T08:57:49.000Z"}]]},"readingTime":{"minutes":0.73,"words":219},"git":{"createdTime":1759222669000,"updatedTime":1759222669000,"contributors":[{"name":"pylixm","username":"pylixm","email":"pyli.xm@gmail.com","commits":1,"avatar":"https://avatars.githubusercontent.com/pylixm?v=4","url":"https://github.com/pylixm"}]},"autoDesc":true,"filePathRelative":"04.云原生/01.docker/00.常见问题记录.md","headers":[],"categoryList":[{"id":"e467f5","sort":4,"name":"云原生"},{"id":"219fa0","sort":1,"name":"docker"}]}');export{p as comp,d as data};
